<div class="study-group__group-list" ng-show="groups!=null">
    <p>Групи:
        <span class="study-group__group-item" ng-repeat="group in groups" data-toggle="modal" data-target="#ModalForGroups" ng-click="selectData.StudyGroup = group"
        ng-class="{'study-group__group-item_active':selectData.StudyGroup == group}">
              {{group.name}}
        </span>
    </p>
</div>
<section ng-show="selectData.StudyGroup!=null">
    <table class="table table-bordered table-hover table-condensed d-s-table" ng-show="patterns!=null">
        <thead>
        <tr class="patterns__table-header">
            <td>
                <a href="#" ng-click="sortTypeBlock = 'studyGroupsId';sortReverseBlock = !sortReverseBlock">
                    ID навчальної <br> групи
                    <span ng-show="sortTypeBlock == 'studyGroupsId'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                </a>
            </td>
            <td>
                <a href="#">
                    Навчальний рік
                </a>
            </td>
            <td>
                <a href="#" ng-click="sortTypeBlock = 'studyCourse';sortReverseBlock = !sortReverseBlock">
                    Курс
                    <span ng-show="sortTypeBlock == 'studyCourse'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                </a>
            </td>

            <td>
                <a href="#" ng-click="sortTypeBlock = 'countStudFact';sortReverseBlock = !sortReverseBlock">
                    Кількість студентів в групі
                    <span ng-show="sortTypeBlock == 'countStudFact'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                </a>
            </td>
            <td>
                <a href="#">
                    Дія
                </a>
            </td>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="block in blocksChoise| orderBy:sortTypeBlock:sortReverseBlock">
            <td>
            <span>
                {{ block.studyYearCourse || 'null' }}
            </span>
            </td>
            <td>
            <span>
                {{ block.course || 'null' }}
            </span>
            </td>
            <td>
            <span editable-select="block.semestr" e-name="semester" e-form="blockChoiseForm"
                  onbeforesave="checkAllBlockChoiseForm($data)" e-required
                  e-ng-options="semester as semester for semester in Dc.Semesters">
                {{ block.semestr || 'null' }}
            </span>
            </td>
            <td>
            <span editable-select="block.studyGroup.id" e-name="groupId" e-form="blockChoiseForm"
                  onbeforesave="checkAllBlockChoiseForm($data)" e-required
                  e-ng-options="group.id as group.name for group in groups">
                {{ block.studyGroup.name|| 'null' }}
            </span>
            </td>
            <td>
            <span editable-select="block.cycle.id" e-name="cycleId" e-form="blockChoiseForm"
                  onbeforesave="checkAllBlockChoiseForm($data)" e-required
                  e-ng-options="cycle.id as cycle.name for cycle in Dc.Cycles">
                {{ block.cycle.name || 'null' }}
            </span>
            </td>
            <td>
            <span editable-select="block.block.id" e-name="blockId" e-form="blockChoiseForm"
                  onbeforesave="checkAllBlockChoiseForm($data)" e-required
                  e-ng-options="dcBlock.id as dcBlock.name for dcBlock in Dc.Blocks">
                {{block.block.name || 'null' }}
            </span>
            </td>
            <td>
            <span>
                {{block.groupId == -1? "Ні": "Так" || 'null' }}
            </span>
            </td>
            <td>
                <!-- form -->
                <form editable-form name="blockChoiseForm" onbeforesave="saveBlock($data,block)"
                      ng-show="blockChoiseForm.$visible"
                      class="form-buttons form-inline" shown="inserted == block">
                    <button type="submit" ng-disabled="blockChoiseForm.$waiting"
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__table-button_CRUD-button_save">
                        <span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
                    </button>
                    <button type="button" ng-disabled="blockChoiseForm.$waiting" ng-click="blockChoiseForm.$cancel();OnFullSelect()"
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__CRUD-buttons_cancel">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    </button>
                </form>
                <div class="buttons" ng-show="!blockChoiseForm.$visible">
                    <button
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__table-button_CRUD-button_edit"
                            ng-click="blockChoiseForm.$show()">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                    <button
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__table-button_CRUD-button_delete"
                            ng-click="deleteBlock(block)">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </div>
            </td>
        </tr>
        </tbody>

    </table>
    <table class="table table-bordered table-hover table-condensed d-s-table" >
        <thead>
        <tr class="patterns__table-header">
            <td>
                <a href="#" ng-click="sortTypeBlock = 'studyGroupsId';sortReverseBlock = !sortReverseBlock">
                    ID навчальної <br> групи
                    <span ng-show="sortTypeBlock == 'studyGroupsId'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                </a>
            </td>
            <td>
                <a href="#">
                    Навчальний рік
                </a>
            </td>
            <td>
                <a href="#" ng-click="sortTypeBlock = 'studyCourse';sortReverseBlock = !sortReverseBlock">
                    Курс
                    <span ng-show="sortTypeBlock == 'studyCourse'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                </a>
            </td>

            <td>
                <a href="#" ng-click="sortTypeBlock = 'countStudFact';sortReverseBlock = !sortReverseBlock">
                    Кількість студентів в групі
                    <span ng-show="sortTypeBlock == 'countStudFact'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                </a>
            </td>
            <td>
                <a href="#">
                    Дія
                </a>
            </td>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="group in selectData.StudyGroup.studyGroups| orderBy:sortTypeBlock:sortReverseBlock">
            <td>
            <span>
                {{ group.studyGroupsId || 'null' }}
            </span>
            </td>
            <td>
            <span>
                {{ getYearByStartYearAndCourse(selectData.StudyYear,group.studyCourse)}}
            </span>
            </td>
            <td>
            <span>
                {{ group.studyCourse || 'null' }}
            </span>
            </td>
            <td>
            <span editable-number="group.countStudFact" e-name="countStudFact" e-form="studyGroupsCount"
                  onbeforesave="checkAllBlockChoiseForm($data)" e-min="1" e-required>
                {{ group.countStudFact|| 'null' }}
            </span>
            </td>
            <td>
                <!-- form -->
                <form editable-form name="studyGroupsCount" onbeforesave=""
                      ng-show="studyGroupsCount.$visible"
                      class="form-buttons form-inline" shown="">
                    <button type="submit" ng-disabled="studyGroupsCount.$waiting"
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__table-button_CRUD-button_save">
                        <span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
                    </button>
                    <button type="button" ng-disabled="studyGroupsCount.$waiting" ng-click="studyGroupsCount.$cancel();OnFullSelect()"
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__CRUD-buttons_cancel">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    </button>
                </form>
                <div class="buttons" ng-show="!studyGroupsCount.$visible">
                    <button
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__table-button_CRUD-button_edit"
                            ng-click="studyGroupsCount.$show()">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                    <button
                            class="btn patterns__table-button patterns__table-button_CRUD-button patterns__table-button_CRUD-button_delete"
                            ng-click="">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</section>
