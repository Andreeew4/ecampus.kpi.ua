<breadcrumbs>
  <span>Модулі</span> > <b>Атестація</b>
</breadcrumbs>

<div class="container-fluid content">
  <div class="row">
    <div class="col-md-12">
      <h3>Результати атестації</h3>
      <div class="year-select">
        <label for="year" class="select-form__label">Навчальний рік</label>
        <ui-select id="year" class="select-form__select" ng-model="$parent.itemYear" append-to-body="true">
          <ui-select-match placeholder="Оберіть навчальний рік">
            <span ng-bind="$select.selected.studyingYearName"></span>
          </ui-select-match>
          <ui-select-choices repeat="itemYears in (Years | filter: $select.search) track by itemYears.studyingYearId"
                             position="down">
            <span ng-bind="itemYears.studyingYearName"></span>
          </ui-select-choices>
        </ui-select>
        <div class="error-load-attest" ng-show="errorMessageYears">{{errorMessageYears}}</div>
      </div>
      <div class="semester-select">
        <label for="semester" class="select-form__label">Семестр</label>
        <ui-select id="semester" class="select-form__select" ng-model="$parent.itemSemester" append-to-body="true">
          <ui-select-match placeholder="Оберіть семестр">
            <span ng-bind="$select.selected.name"></span>
          </ui-select-match>
          <ui-select-choices repeat="semesters in (Semesters | filter: $select.search) track by semesters.id"
                             position="down">
            <span ng-bind="semesters.name"></span>
          </ui-select-choices>
        </ui-select>
      </div>
      <div class="attest-num-select">
        <label for="attest-num" class="select-form__label">Номер атестації</label>
        <ui-select id="attest-num" class="select-form__select" ng-model="$parent.itemAttest"
                   append-to-body="true">
          <ui-select-match placeholder="Оберіть номер атестації">
            <span ng-bind="$select.selected.name"></span>
          </ui-select-match>
          <ui-select-choices repeat="attests in (Attests | filter: $select.search) track by attests.id"
                             position="down">
            <span ng-bind="attests.name"></span>
          </ui-select-choices>
        </ui-select>
        <div class="error-load-attest" ng-show="errorMessageAttests">{{errorMessageAttests}}</div>
      </div>

      <div class="attest-menu">
        <h4 class="text-center">Оберіть категорію для перегляду атестацій</h4>
        <ul class="nav nav-pills-attest nav-justified attest-navigation" ng-model="choiceType">
          <li ng-class="{ active: isSet(1)}"><a
            ng-click="getAttestationPeriodId(itemYear.studyingYearId,itemSemester.id,itemAttest.id);setPill(1);
            choiceType = 'students'">Студенти</a></li>
          <li ng-class="{ active: isSet(2)}"><a
            ng-click="getAttestationPeriodId(itemYear.studyingYearId,itemSemester.id,itemAttest.id);setPill(2);
            choiceType = 'groups'">Групи</a></li>
          <li ng-class="{ active: isSet(3)}"><a
            ng-click="getAttestationPeriodId(itemYear.studyingYearId,itemSemester.id,itemAttest.id);setPill(3);
            choiceType = 'teachers'">Викладачі</a></li>
        </ul>
      </div>

      <div ng-switch="choiceType">
        <div ng-switch-when="students">

        </div>
        <div ng-switch-when="groups">
          <div class="group-select">
            <label for="group-select" class="select-form__label">Навчальна група</label>
            <ui-select id="group-select" ng-keyup="LoadGroups($select.search);" class="select-form__select"
                       ng-model="$parent.itemGroup" append-to-body="true">
              <ui-select-match placeholder="Оберіть навчальну групу">
                <span ng-bind="$select.selected.name"></span>
              </ui-select-match>
              <ui-select-choices repeat="groups in (Groups | filter: $select.search) track by groups.id"
                                 position="down">
                <span ng-bind="groups.name"></span>
              </ui-select-choices>
            </ui-select>
            <div class="error-load-attest" ng-show="errorMessageGroups">{{errorMessageGroups}}</div>
            <input type="submit" style="margin: 20px 0"
                   ng-click="LoadGroupsResult(8511, attestationPeriodId);getGroupsResults = true;">
          </div>

          <div ng-show="getGroupsResults" style="margin-bottom: 20px;">
            <div class="disc-select">
              <label for="disc" class="select-form__label">Дисципліна</label>
              <ui-select id="disc" class="select-form__select" ng-model="$parent.itemDisc" append-to-body="true">
                <ui-select-match placeholder="Оберіть дисципліну">
                  <span ng-bind="$select.selected.disciplineShortName"></span>
                </ui-select-match>
                <ui-select-choices repeat="itemDiscs in (disciplinesList | filter: $select.search)"
                                   position="down">
                  <span ng-bind="itemDiscs.disciplineShortName"></span>
                </ui-select-choices>
              </ui-select>
            </div>
          </div>
          <div ng-show="itemDisc" style="margin: 20px 0">
            <table class="table table-condensed table-bordered">
              <thead>
              <tr>
                <th class="text-center">№</th>
                <th class="text-center">ПІБ</th>
                <th class="text-center">Атестація</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="stud in (GroupsResult | filter: itemDisc.disciplineFullName)">
                <td class="text-center">{{$index + 1}}</td>
                <td class="text-center">{{stud.student}}</td>
                <td class="text-center">{{stud.attestation}}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div ng-switch-when="teachers">

        </div>
        <div ng-switch-default></div>
      </div>

    </div>
  </div>
</div>
