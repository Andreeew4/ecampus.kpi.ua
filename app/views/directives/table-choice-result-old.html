<div class="row">
    <div class="col-md-6" ng-show="blocks!=null">
        <fieldset>
            <legend>
                Розподіл дісциплін вибору за блоками
            </legend>
            <p>Блок: Всі</p>
            <table class="table table-hover table-bordered">
                <thead>
                <tr class="text-center">
                    <td class="text-center">
                        <a href="#" ng-click="sortType = 'Course';sortReverse = !sortReverse">
                            Курс
                            <span ng-show="sortType == 'Course'" class="fa" ng-class="{'fa-caret-down':sortReverse,'fa-caret-up':!sortReverse}"></span>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="#" ng-click="sortType = 'Semestr';sortReverse = !sortReverse">
                            Семестр
                            <span ng-show="sortType == 'Semestr'" class="fa" ng-class="{'fa-caret-down':sortReverse,'fa-caret-up':!sortReverse}"></span>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="#" ng-click="sortType = 'StudyGroupName';sortReverse = !sortReverse">
                            Группа
                            <span ng-show="sortType == 'StudyGroupName'" class="fa" ng-class="{'fa-caret-down':sortReverse,'fa-caret-up':!sortReverse}"></span>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="#" ng-click="sortType = 'BlockName';sortReverse = !sortReverse">
                            Блок
                            <span ng-show="sortType == 'BlockName'" class="fa" ng-class="{'fa-caret-down':sortReverse,'fa-caret-up':!sortReverse}"></span>
                        </a>
                    </td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="block in blocks | orderBy:sortType:sortReverse" ng-click="OnDisciplineChose(block.BlockId)">
                    <td scope="row">{{block.Course}}</td>
                    <td>{{block.Semestr}}</td>
                    <td>{{block.StudyGroupName}}</td>
                    <td>{{block.BlockName}}</td>
                </tr>
                <tr ng-show="blocks!=null && blocks.length == 0">
                    <td class="errorLabel" scope="row" colspan="4">На жаль записи у базі відсутні</td>
                </tr>
                </tbody>
            </table>
        </fieldset>
    </div>
    <div class="col-md-6" ng-show="disciplines!=null">
        <fieldset>
            <legend>
                Результати запису студентів
            </legend>
            <p>Блок: Філософські</p>
            <table class="table table-hover table-bordered">
                <thead>
                <tr>
                    <td class="text-center">
                        <a href="#" ng-click="sortTypeBlock = 'DisciplineName';sortReverseBlock = !sortReverseBlock">
                            Назва дисципліни
                            <span ng-show="sortTypeBlock == 'DisciplineName'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="#" ng-click="sortTypeBlock = 'WhoReadAbbreviation';sortReverseBlock = !sortReverseBlock">
                            Читаюча кафедра
                            <span ng-show="sortTypeBlock == 'WhoReadAbbreviation'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="#" ng-click="sortTypeBlock = 'MaxCountStudent';sortReverseBlock = !sortReverseBlock">
                            Мах кількість <br/> студентів
                            <span ng-show="sortTypeBlock == 'MaxCountStudent'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="#" ng-click="sortTypeBlock = 'OccupiedPercent';sortReverseBlock = !sortReverseBlock">
                            Записалося студентів
                            <span ng-show="sortTypeBlock == 'OccupiedPercent'" class="fa" ng-class="{'fa-caret-down':sortReverseBlock,'fa-caret-up':!sortReverseBlock}"></span>
                        </a>
                    </td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="discipline in disciplines | orderBy:sortTypeBlock:sortReverseBlock">
                    <td>{{discipline.DisciplineName}}</td>
                    <td>{{discipline.WhoReadAbbreviation}}</td>
                    <td>{{discipline.MaxCountStudent}}</td>
                    <td>
                        <div class="progress">
                            <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar"
                                 aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"
                                 ng-style="{width: discipline.OccupiedPercent*100+'%'}">
                                <span>{{discipline.Subscribed+"\\"+discipline.MaxCountStudent}}</span>
                            </div>
                        </div>
                    </td>
                <tr ng-show="disciplines!=null && disciplines.length == 0">
                    <td class="errorLabel" scope="row" colspan="4">На жаль записи у базі відсутні</td>
                </tr>
                </tbody>
            </table>
        </fieldset>

    </div>
</div>

